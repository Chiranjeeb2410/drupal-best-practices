---

- name: Cloning Github repo (branch - master) in {{project_dir}}/{{project_folder_name}} dir
  git:
    repo: "{{github_repo}}"
    dest: "{{project_dir}}/{{project_folder_name}}"
    version: master
    accept_hostkey: yes

- name: Adding Git Hooks on Commit
  command: cp {{project_dir}}/{{project_folder_name}}/.githooks/pre-commit {{project_dir}}/{{project_folder_name}}/.git/hooks/pre-commit

- name: Giving 755 permission to hooks
  file:
    path: "{{project_dir}}/{{project_folder_name}}/.git/hooks/pre-commit"
    mode: u=rwx,g=rwx,o=rx